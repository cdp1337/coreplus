// plugin.js
tinymce.PluginManager.add("advlist",function(d){var g,f,b={};function a(j,h){var i=[];tinymce.each(h.split(/[ ,]/),function(k){i.push({text:k.replace(/\-/g," ").replace(/\b\w/g,function(l){return l.toUpperCase()}),data:k=="default"?"":k})});return i}g=a("OL",d.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman"));f=a("UL",d.getParam("advlist_bullet_styles","default,circle,disc,square"));function e(i,h){d.undoManager.transact(function(){var k,l=d.dom,j=d.selection;k=l.getParent(j.getNode(),"ol,ul");if(!k||k.nodeName!=i||h===false){d.execCommand(i=="UL"?"InsertUnorderedList":"InsertOrderedList")}h=h===false?b[i]:h;b[i]=h;k=l.getParent(j.getNode(),"ol,ul");if(k){l.setStyle(k,"listStyleType",h?h:null);k.removeAttribute("data-mce-style")}d.focus()})}function c(i){var h=d.dom.getStyle(d.dom.getParent(d.selection.getNode(),"ol,ul"),"listStyleType")||"";i.control.items().each(function(j){j.active(j.settings.data===h)})}d.addButton("numlist",{type:"splitbutton",tooltip:"Numbered list",menu:g,onshow:c,onselect:function(h){e("OL",h.control.settings.data)},onclick:function(){e("OL",false)}});d.addButton("bullist",{type:"splitbutton",tooltip:"Bullet list",menu:f,onshow:c,onselect:function(h){e("UL",h.control.settings.data)},onclick:function(){e("UL",false)}})});