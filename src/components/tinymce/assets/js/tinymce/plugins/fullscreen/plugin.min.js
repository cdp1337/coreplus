// plugin.js
tinymce.PluginManager.add("fullscreen",function(g){var d=false,i=tinymce.DOM,f,e,b;var h,j;if(g.settings.inline){return}function c(){var l,m,o=window,n=document;var k=n.body;if(k.offsetWidth){l=k.offsetWidth;m=k.offsetHeight}if(o.innerWidth&&o.innerHeight){l=o.innerWidth;m=o.innerHeight}return{w:l,h:m}}function a(){var l=document.body,q=document.documentElement,o;var p,n,k;function m(){i.setStyle(n,"height",c().h-(p.clientHeight-n.clientHeight))}d=!d;p=g.getContainer();o=p.style;n=g.getContentAreaContainer().firstChild;k=n.style;if(d){f=k.width;e=k.height;k.width=k.height="100%";h=o.width;j=o.height;o.width=o.height="";i.addClass(l,"mce-fullscreen");i.addClass(q,"mce-fullscreen");i.addClass(p,"mce-fullscreen");i.bind(window,"resize",m);m();b=m}else{k.width=f;k.height=e;if(h){o.width=h}if(j){o.height=j}i.removeClass(l,"mce-fullscreen");i.removeClass(q,"mce-fullscreen");i.removeClass(p,"mce-fullscreen");i.unbind(window,"resize",b)}g.fire("FullscreenStateChanged",{state:d})}g.on("init",function(){g.addShortcut("Meta+Alt+F","",a)});g.on("remove",function(){if(b){i.unbind(window,"resize",b)}});g.addCommand("mceFullScreen",a);g.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Meta+Alt+F",selectable:true,onClick:a,onPostRender:function(){var k=this;g.on("FullscreenStateChanged",function(l){k.active(l.state)})},context:"view"});g.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Meta+Alt+F",onClick:a,onPostRender:function(){var k=this;g.on("FullscreenStateChanged",function(l){k.active(l.state)})}});return{isFullscreen:function(){return d}}});